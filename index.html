<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Good Bye Mumbai ‚Äì Mid Vibration</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:system-ui}
body{background:#000;color:#fff;height:100vh;overflow:hidden}

/* VIDEO BG */
#bg{
  position:fixed;inset:0;
  width:100%;height:100%;
  object-fit:cover;
  opacity:.6;z-index:-5;
}

/* NEON */
.neon{
  position:fixed;top:0;
  width:8px;height:100%;
  filter:blur(6px);
  z-index:10;
}
.left{left:0}
.right{right:0}

/* BORDER */
.border{
  position:fixed;inset:0;
  border:3px solid transparent;
  pointer-events:none;
  z-index:9;
}

/* BOX */
.box{
  position:fixed;
  top:8px;left:50%;
  transform:translateX(-50%);
  width:94%;max-width:720px;
  background:rgba(0,0,0,.6);
  border-radius:18px;
  padding:16px;
  text-align:center;
  z-index:20;
}

h1{font-size:28px}
#timer{margin:8px 0;font-size:16px}

button{
  padding:12px 30px;
  border:none;border-radius:30px;
  background:#ff9800;
  font-size:18px;font-weight:bold;
  cursor:pointer;
}

#secret{
  display:none;
  margin-top:12px;
  color:#ffb74d;
  font-size:18px;
}
</style>
</head>

<body>

<video id="bg" autoplay muted loop playsinline>
  <source src="ek-mulakat-jaruri-hai-sanam.mp4">
</video>

<div class="neon left"></div>
<div class="neon right"></div>
<div class="border"></div>

<div class="box">
  <h1 id="title"></h1>
  <div id="timer"></div>
  <button id="btn">‚ñ∂Ô∏è Play</button>
  <div id="secret">üíå Mumbai sirf shehar nahi‚Ä¶ ek jazba tha</div>
</div>

<audio id="music" loop>
  <source src="ghar-more-pardesiya.mp3">
</audio>

<script>
/* TEXT */
const text="üíî ‡§Ö‡§≤‡§µ‡§ø‡§¶‡§æ ‡§Æ‡•Å‡§Ç‡§¨‡§à üíî";
let ti=0;
(function type(){
  if(ti<text.length){
    title.innerHTML+=text[ti++];
    setTimeout(type,120);
  }
})();

/* TIMER */
const target=new Date("Feb 22 2026").getTime();
setInterval(()=>{
  const d=target-Date.now();
  if(d<=0){timer.innerHTML="üåÜ ‡§Ö‡§¨ ‡§Ö‡§≤‡§µ‡§ø‡§¶‡§æ‚Ä¶";return;}
  timer.innerHTML=
    Math.floor(d/864e5)+" ‡§¶‡§ø‡§® "+
    Math.floor(d/36e5)%24+" ‡§ò‡§Ç‡§ü‡•á "+
    Math.floor(d/6e4)%60+" ‡§Æ‡§ø‡§®‡§ü "+
    Math.floor(d/1000)%60+" ‡§∏‡•á‡§ï‡§Ç‡§°";
},1000);

/* AUDIO */
const music=document.getElementById("music");
const ctx=new (window.AudioContext||webkitAudioContext)();
const src=ctx.createMediaElementSource(music);
const analyser=ctx.createAnalyser();
src.connect(analyser);
analyser.connect(ctx.destination);
analyser.fftSize=64;
const arr=new Uint8Array(analyser.frequencyBinCount);

const neonL=document.querySelector(".left");
const neonR=document.querySelector(".right");
const border=document.querySelector(".border");

let lastV=0,beats=0,unlock=false;

/* MID VIBRATION FUNCTION */
function midVibrate(power){
  if(!navigator.vibrate) return;
  const now=Date.now();
  if(now-lastV<300) return;

  if(power>160){
    navigator.vibrate([40,30,40]);   // bass ‚Äì medium strong
  }else if(power>120){
    navigator.vibrate(25);           // normal beat
  }
  lastV=now;
}

/* VISUAL LOOP (30 FPS) */
function visual(){
  analyser.getByteFrequencyData(arr);

  let sum=0;
  for(let i=0;i<arr.length;i++) sum+=arr[i];
  const avg=sum/arr.length;

  const power=Math.min(avg*1.1,180);
  const hue=(Date.now()/18)%360;
  const color=`hsl(${hue},100%,60%)`;

  neonL.style.background=color;
  neonR.style.background=color;
  neonL.style.boxShadow=`0 0 ${power}px ${color}`;
  neonR.style.boxShadow=`0 0 ${power}px ${color}`;

  border.style.borderColor=color;
  border.style.boxShadow=`0 0 ${power/1.5}px ${color}`;

  /* MID VIBRATION */
  midVibrate(power);

  if(power>150){
    beats++;
  }

  if(beats>8 && !unlock){
    secret.style.display="block";
    unlock=true;
    navigator.vibrate([60,40,60]);
  }

  setTimeout(visual,33);
}

/* BUTTON */
btn.onclick=()=>{
  if(music.paused){
    ctx.resume();
    music.play();
    navigator.vibrate(40); // play confirm
    visual();
    btn.innerHTML="‚è∏ Pause";
  }else{
    music.pause();
    navigator.vibrate(20);
    btn.innerHTML="‚ñ∂Ô∏è Play";
  }
};
</script>

</body>
</html>