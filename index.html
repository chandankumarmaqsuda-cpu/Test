<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>Good Bye Mumbai</title>

<style>
/* CONFETTI */
#confetti-container{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  pointer-events:none;
  overflow:hidden;
  z-index:5;
}

.confetti{
  position:absolute;
  width:8px;
  height:12px;
  animation:fall 4s linear forwards;
}

@keyframes fall{
  0%{transform:translateY(-10vh) rotate(0deg);opacity:1;}
  100%{transform:translateY(110vh) rotate(360deg);opacity:0;}
}

/* PAGE */
body{
  margin:0;
  font-family:'Segoe UI', Arial;
  background:#000;
  color:white;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
}

.gif-bg{
  position:fixed;
  inset:0;
  background:url("your.gif") center/cover no-repeat;
  opacity:0.6;
  z-index:-1;
}

.box{
  background:rgba(0,0,0,.6);
  padding:35px 25px;
  border-radius:22px;
  width:90%;
  max-width:430px;
  text-align:center;
}

h1{font-size:28px;}
#timer{margin:18px 0;font-size:24px;font-weight:bold;}

button{
  padding:10px 24px;
  border:none;
  border-radius:30px;
  background:#ff9800;
  font-weight:bold;
}
/* FLOWER POT / ANAR */
.spark{
  position:fixed;
  bottom:0;
  width:4px;
  height:18px;
  background:linear-gradient(to top, #ff0, #fff);
  opacity:0.9;
  animation:sparkUp 2.5s ease-out forwards;
}

.left-pot{ left:6%; }
.right-pot{ right:6%; }

@keyframes sparkUp{
  0%{
    transform:translateY(0) scaleY(0.5);
    opacity:1;
  }
  100%{
    transform:translateY(-70vh) scaleY(1.5);
    opacity:0;
  }
}
</style>
</head>

<body>

<div class="gif-bg"></div>

<div class="box">
  <h1 id="typing"></h1>
  <div id="timer">Loading...</div>
  <button onclick="startMusic()">Play</button>
</div>

<div id="confetti-container"></div>

<audio id="music">
  <source src="ghar-more-pardesiya.mp3" type="audio/mpeg">
</audio>

<script>
/* CONFETTI */
function launchConfetti(){
  const container = document.getElementById("confetti-container");
  for(let i=0;i<25;i++){
    const c = document.createElement("div");
    c.className = "confetti";
    c.style.left = Math.random()*100 + "vw";
    c.style.backgroundColor =
      ["#ff0","#f00","#0f0","#0ff","#fff"][Math.floor(Math.random()*5)];
    c.style.animationDuration = (Math.random()*2+3)+"s";
    container.appendChild(c);
    setTimeout(()=>c.remove(),5000);
  }
}

/* MUSIC + CONFETTI CONTROL */
const music = document.getElementById("music");
let started = false;
let confettiInterval = null;

music.volume = 0.05;

function fadeInMusic(){
  let vol = music.volume;
  const fade = setInterval(()=>{
    if(vol < 0.8){
      vol += 0.02;
      music.volume = vol;
    } else clearInterval(fade);
  },300);
}

function startMusic(){
  if(started) return;

  music.play().then(()=>{
    started = true;
    fadeInMusic();

    // üîÅ Continuous confetti START
    launchConfetti();
    confettiInterval = setInterval(launchConfetti, 1200);
  });
}

/* First interaction fallback */
document.addEventListener("click", startMusic, { once:true });

/* Typing */
const text = "üíî ‡§Ö‡§≤‡§µ‡§ø‡§¶‡§æ ‡§Æ‡•Å‡§Ç‡§¨‡§à";
let i = 0;
const typingEl = document.getElementById("typing");
(function typing(){
  if(i < text.length){
    typingEl.innerHTML += text.charAt(i++);
    setTimeout(typing,120);
  }
})();

/* TIMER (independent) */
const targetDate = new Date("February 22, 2026 00:00:00").getTime();
const timerEl = document.getElementById("timer");

setInterval(()=>{
  const diff = targetDate - Date.now();
  if(diff <= 0){
    timerEl.innerHTML = "üåÜ ‡§Ö‡§¨ ‡§Æ‡•Å‡§Ç‡§¨‡§à ‡§ï‡•ã ‡§Ö‡§≤‡§µ‡§ø‡§¶‡§æ ‡§ï‡§π‡§®‡•á ‡§ï‡§æ ‡§∏‡§Æ‡§Ø‚Ä¶";
    return;
  }
  const d=Math.floor(diff/(1000*60*60*24));
  const h=Math.floor((diff/(1000*60*60))%24);
  const m=Math.floor((diff/(1000*60))%60);
  const s=Math.floor((diff/1000)%60);
  timerEl.innerHTML=`${d} ‡§¶‡§ø‡§® : ${h} ‡§ò‡§Ç‡§ü‡•á : ${m} ‡§Æ‡§ø‡§®‡§ü : ${s} ‡§∏‡•á‡§ï‡§Ç‡§°`;
},1000);
let potInterval = null;

function startFlowerPot(){
  for(let i=0;i<20;i++){
    createSpark("left-pot");
    createSpark("right-pot");
  }
}

function createSpark(side){
  const s = document.createElement("div");
  s.className = "spark " + side;

  s.style.left = side === "left-pot"
    ? (5 + Math.random()*5) + "%"
    : (90 + Math.random()*5) + "%";

  s.style.animationDuration = (Math.random()*1.5 + 1.5) + "s";
  document.body.appendChild(s);

  setTimeout(()=>s.remove(),3000);
}
function startMusic(){
  if(started) return;

  music.play().then(()=>{
    started = true;
    fadeInMusic();

    // Confetti
    launchConfetti();
    confettiInterval = setInterval(launchConfetti, 1200);

    // üî• Flower Pot Cracker START
    if(!potInterval){
      startFlowerPot();
      potInterval = setInterval(startFlowerPot, 800);
    }
  });
}
</script>

</body>
</html>